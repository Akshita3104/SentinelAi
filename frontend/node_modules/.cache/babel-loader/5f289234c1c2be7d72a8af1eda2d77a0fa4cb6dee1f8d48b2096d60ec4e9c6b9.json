{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nclass WebSocketService {\n  constructor() {\n    this.socket = null;\n    this.messageHandlers = new Set();\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 5;\n    this.reconnectDelay = 1000; // Start with 1 second\n    this.maxReconnectDelay = 10000; // Max 10 seconds\n    this.connectionStatus = 'disconnected';\n    this.connectionStatusListeners = new Set();\n  }\n  connect(url) {\n    return new Promise((resolve, reject) => {\n      try {\n        // Close existing connection if any\n        if (this.socket) {\n          if (this.socket.readyState === WebSocket.OPEN || this.socket.readyState === WebSocket.CONNECTING) {\n            console.log('Closing existing WebSocket connection');\n            this.socket.close();\n          }\n          this.socket = null;\n        }\n        console.log(`Connecting to WebSocket at ${url}`);\n        this.socket = new WebSocket(url);\n        this.updateConnectionStatus('connecting');\n        this.socket.onopen = event => {\n          console.log('WebSocket Connected', event);\n          this.reconnectAttempts = 0;\n          this.reconnectDelay = 1000;\n          this.updateConnectionStatus('connected');\n          resolve();\n        };\n\n        // Add error handler for WebSocket constructor\n        this.socket.onerror = error => {\n          console.error('WebSocket connection error:', error);\n          this.updateConnectionStatus('error');\n          reject(new Error('Failed to connect to WebSocket'));\n        };\n        this.socket.onmessage = event => {\n          try {\n            const message = JSON.parse(event.data);\n            console.debug('WebSocket message received:', message.type, message);\n            this.notifyHandlers(message);\n          } catch (error) {\n            console.error('Error parsing WebSocket message:', error, event.data);\n          }\n        };\n        this.socket.onclose = event => {\n          console.log('WebSocket Disconnected', event);\n          this.updateConnectionStatus('disconnected');\n          this.attemptReconnect(url);\n        };\n        this.socket.onerror = error => {\n          console.error('WebSocket Error:', error);\n          this.updateConnectionStatus('error');\n          this.socket.close();\n          reject(error);\n        };\n      } catch (error) {\n        console.error('WebSocket Connection Error:', error);\n        reject(error);\n      }\n    });\n  }\n  updateConnectionStatus(status) {\n    this.connectionStatus = status;\n    this.notifyStatusChange(status);\n  }\n  onStatusChange(callback) {\n    this.connectionStatusListeners.add(callback);\n    return () => this.connectionStatusListeners.delete(callback);\n  }\n  notifyStatusChange(status) {\n    this.connectionStatusListeners.forEach(callback => {\n      try {\n        callback(status);\n      } catch (error) {\n        console.error('Error in status change handler:', error);\n      }\n    });\n  }\n  getStatus() {\n    return this.connectionStatus;\n  }\n  attemptReconnect(url) {\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n      this.reconnectAttempts++;\n      const delay = Math.min(this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1), this.maxReconnectDelay);\n      console.log(`Attempting to reconnect in ${delay}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n      this.updateConnectionStatus('reconnecting');\n      setTimeout(() => {\n        this.connect(url).catch(console.error);\n      }, delay);\n    } else {\n      console.error('Max reconnection attempts reached');\n      this.updateConnectionStatus('disconnected');\n      this.notifyHandlers({\n        type: 'connection/error',\n        payload: 'Max reconnection attempts reached'\n      });\n    }\n  }\n  disconnect() {\n    if (this.socket) {\n      this.socket.close();\n      this.socket = null;\n    }\n    this.messageHandlers.clear();\n  }\n  sendMessage(message) {\n    if (this.socket && this.socket.readyState === WebSocket.OPEN) {\n      this.socket.send(JSON.stringify(message));\n      return true;\n    }\n    console.error('WebSocket is not connected');\n    return false;\n  }\n  removeMessageHandler(handler) {\n    this.messageHandlers.delete(handler);\n  }\n  notifyHandlers(message) {\n    this.messageHandlers.forEach(handler => {\n      try {\n        handler(message);\n      } catch (error) {\n        console.error('Error in message handler:', error);\n      }\n    });\n  }\n\n  // Network capture specific methods\n  startCapture(interfaceName) {\n    return this.sendMessage({\n      type: 'start_capture',\n      interface: interfaceName\n    });\n  }\n  stopCapture() {\n    return this.sendMessage({\n      type: 'stop_capture'\n    });\n  }\n  setFilter(filter) {\n    return this.sendMessage({\n      type: 'set_filter',\n      filter: filter\n    });\n  }\n  getInterfaces() {\n    return this.sendMessage({\n      type: 'get_interfaces'\n    });\n  }\n  getPackets(limit = 100, filters = {}) {\n    return this.sendMessage({\n      type: 'get_packets',\n      limit,\n      filters\n    });\n  }\n  getStats() {\n    return this.sendMessage({\n      type: 'get_stats'\n    });\n  }\n  getBandwidth() {\n    return this.sendMessage({\n      type: 'get_bandwidth'\n    });\n  }\n}\n\n// Export a singleton instance\nexport const webSocketService = new WebSocketService();\n\n// Helper hook for React components\nexport const useWebSocket = (onMessage, dependencies = []) => {\n  _s();\n  const [isConnected, setIsConnected] = React.useState(false);\n  const [error, setError] = React.useState(null);\n  React.useEffect(() => {\n    const handleMessage = message => {\n      if (message.type === 'connection/established') {\n        setIsConnected(true);\n        setError(null);\n      } else if (message.type === 'connection/error') {\n        setError(message.payload);\n      }\n      if (onMessage) {\n        onMessage(message);\n      }\n    };\n\n    // Add the handler\n    const removeHandler = webSocketService.addMessageHandler(handleMessage);\n\n    // Clean up\n    return () => {\n      removeHandler();\n    };\n  }, [onMessage, ...dependencies]);\n  return {\n    isConnected,\n    error,\n    sendMessage: webSocketService.sendMessage.bind(webSocketService),\n    startCapture: webSocketService.startCapture.bind(webSocketService),\n    stopCapture: webSocketService.stopCapture.bind(webSocketService),\n    setFilter: webSocketService.setFilter.bind(webSocketService)\n  };\n};\n_s(useWebSocket, \"pC3TVIB/x3LrkaCp5yIVZyn0G4I=\");","map":{"version":3,"names":["React","WebSocketService","constructor","socket","messageHandlers","Set","reconnectAttempts","maxReconnectAttempts","reconnectDelay","maxReconnectDelay","connectionStatus","connectionStatusListeners","connect","url","Promise","resolve","reject","readyState","WebSocket","OPEN","CONNECTING","console","log","close","updateConnectionStatus","onopen","event","onerror","error","Error","onmessage","message","JSON","parse","data","debug","type","notifyHandlers","onclose","attemptReconnect","status","notifyStatusChange","onStatusChange","callback","add","delete","forEach","getStatus","delay","Math","min","pow","setTimeout","catch","payload","disconnect","clear","sendMessage","send","stringify","removeMessageHandler","handler","startCapture","interfaceName","interface","stopCapture","setFilter","filter","getInterfaces","getPackets","limit","filters","getStats","getBandwidth","webSocketService","useWebSocket","onMessage","dependencies","_s","isConnected","setIsConnected","useState","setError","useEffect","handleMessage","removeHandler","addMessageHandler","bind"],"sources":["C:/Users/Akshita/OneDrive - somaiya.edu/Akshita/Projects/SentinelAi/frontend/src/services/websocketService.js"],"sourcesContent":["import React from 'react';\n\nclass WebSocketService {\n  constructor() {\n    this.socket = null;\n    this.messageHandlers = new Set();\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 5;\n    this.reconnectDelay = 1000; // Start with 1 second\n    this.maxReconnectDelay = 10000; // Max 10 seconds\n    this.connectionStatus = 'disconnected';\n    this.connectionStatusListeners = new Set();\n  }\n\n  connect(url) {\n    return new Promise((resolve, reject) => {\n      try {\n        // Close existing connection if any\n        if (this.socket) {\n          if (this.socket.readyState === WebSocket.OPEN || this.socket.readyState === WebSocket.CONNECTING) {\n            console.log('Closing existing WebSocket connection');\n            this.socket.close();\n          }\n          this.socket = null;\n        }\n\n        console.log(`Connecting to WebSocket at ${url}`);\n        this.socket = new WebSocket(url);\n        this.updateConnectionStatus('connecting');\n\n        this.socket.onopen = (event) => {\n          console.log('WebSocket Connected', event);\n          this.reconnectAttempts = 0;\n          this.reconnectDelay = 1000;\n          this.updateConnectionStatus('connected');\n          resolve();\n        };\n        \n              // Add error handler for WebSocket constructor\n        this.socket.onerror = (error) => {\n          console.error('WebSocket connection error:', error);\n          this.updateConnectionStatus('error');\n          reject(new Error('Failed to connect to WebSocket'));\n        };\n\n        this.socket.onmessage = (event) => {\n          try {\n            const message = JSON.parse(event.data);\n            console.debug('WebSocket message received:', message.type, message);\n            this.notifyHandlers(message);\n          } catch (error) {\n            console.error('Error parsing WebSocket message:', error, event.data);\n          }\n        };\n\n        this.socket.onclose = (event) => {\n          console.log('WebSocket Disconnected', event);\n          this.updateConnectionStatus('disconnected');\n          this.attemptReconnect(url);\n        };\n\n        this.socket.onerror = (error) => {\n          console.error('WebSocket Error:', error);\n          this.updateConnectionStatus('error');\n          this.socket.close();\n          reject(error);\n        };\n      } catch (error) {\n        console.error('WebSocket Connection Error:', error);\n        reject(error);\n      }\n    });\n  }\n\n  updateConnectionStatus(status) {\n    this.connectionStatus = status;\n    this.notifyStatusChange(status);\n  }\n\n  onStatusChange(callback) {\n    this.connectionStatusListeners.add(callback);\n    return () => this.connectionStatusListeners.delete(callback);\n  }\n\n  notifyStatusChange(status) {\n    this.connectionStatusListeners.forEach(callback => {\n      try {\n        callback(status);\n      } catch (error) {\n        console.error('Error in status change handler:', error);\n      }\n    });\n  }\n\n  getStatus() {\n    return this.connectionStatus;\n  }\n\n  attemptReconnect(url) {\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n      this.reconnectAttempts++;\n      const delay = Math.min(this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1), this.maxReconnectDelay);\n      \n      console.log(`Attempting to reconnect in ${delay}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n      this.updateConnectionStatus('reconnecting');\n      \n      setTimeout(() => {\n        this.connect(url).catch(console.error);\n      }, delay);\n    } else {\n      console.error('Max reconnection attempts reached');\n      this.updateConnectionStatus('disconnected');\n      this.notifyHandlers({ type: 'connection/error', payload: 'Max reconnection attempts reached' });\n    }\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.close();\n      this.socket = null;\n    }\n    this.messageHandlers.clear();\n  }\n\n  sendMessage(message) {\n    if (this.socket && this.socket.readyState === WebSocket.OPEN) {\n      this.socket.send(JSON.stringify(message));\n      return true;\n    }\n    console.error('WebSocket is not connected');\n    return false;\n  }\n\n  removeMessageHandler(handler) {\n    this.messageHandlers.delete(handler);\n  }\n\n  notifyHandlers(message) {\n    this.messageHandlers.forEach(handler => {\n      try {\n        handler(message);\n      } catch (error) {\n        console.error('Error in message handler:', error);\n      }\n    });\n  }\n\n  // Network capture specific methods\n  startCapture(interfaceName) {\n    return this.sendMessage({\n      type: 'start_capture',\n      interface: interfaceName\n    });\n  }\n\n  stopCapture() {\n    return this.sendMessage({\n      type: 'stop_capture'\n    });\n  }\n\n  setFilter(filter) {\n    return this.sendMessage({\n      type: 'set_filter',\n      filter: filter\n    });\n  }\n\n  getInterfaces() {\n    return this.sendMessage({\n      type: 'get_interfaces'\n    });\n  }\n\n  getPackets(limit = 100, filters = {}) {\n    return this.sendMessage({\n      type: 'get_packets',\n      limit,\n      filters\n    });\n  }\n\n  getStats() {\n    return this.sendMessage({\n      type: 'get_stats'\n    });\n  }\n\n  getBandwidth() {\n    return this.sendMessage({\n      type: 'get_bandwidth'\n    });\n  }\n}\n\n// Export a singleton instance\nexport const webSocketService = new WebSocketService();\n\n// Helper hook for React components\nexport const useWebSocket = (onMessage, dependencies = []) => {\n  const [isConnected, setIsConnected] = React.useState(false);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    const handleMessage = (message) => {\n      if (message.type === 'connection/established') {\n        setIsConnected(true);\n        setError(null);\n      } else if (message.type === 'connection/error') {\n        setError(message.payload);\n      }\n      \n      if (onMessage) {\n        onMessage(message);\n      }\n    };\n\n    // Add the handler\n    const removeHandler = webSocketService.addMessageHandler(handleMessage);\n\n    // Clean up\n    return () => {\n      removeHandler();\n    };\n  }, [onMessage, ...dependencies]);\n\n  return {\n    isConnected,\n    error,\n    sendMessage: webSocketService.sendMessage.bind(webSocketService),\n    startCapture: webSocketService.startCapture.bind(webSocketService),\n    stopCapture: webSocketService.stopCapture.bind(webSocketService),\n    setFilter: webSocketService.setFilter.bind(webSocketService)\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}